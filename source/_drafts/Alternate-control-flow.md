---
title: Alternate control flow (I) - introduction 其他控制流（I）- 介绍
tags:
- programming
categories:
- CS
---

什么是程序? 通常我们认为它是数据结构和算法的组合. 基本上所有的程序都是在一段时间内按照一定的步骤操纵一些数据, 从而改变了全局的状态: 也就是产生了一个结果. 例如, `cp` 程序输入一个文件名, 执行一些拷贝的步骤, 最后在操作系统中输出一个文件.

这些步骤称为 `控制流`, 这些数据在 `控制流` 的影响下流动, 因此也称为 `数据流`. 我还不打算讨论 `数据流`, 这和内存相关, 有许多复杂的地方. 我打算先写一系列的文章, 讲讲计算机中各种常见的控制流.

传统的操作系统课程里, 繁多的 `控制流` 往往被简化为两种特殊的控制流: 线程和进程. 这两个概念之间有严格的区分, 不过这区分也很简单, 在考试中不过是送分题. 毕竟它们本来就是不同的嘛. 我们都知道进程用来管理资源, 线程用来控制程序同时执行多个代码. 它们的 `API` 也不同. 一个用 `fork()`, 另一个用 `POSIX` 的 `pthread`. 但这样就让控制流的范围太狭窄了. 在 `Linus` 看来, 这两种东西无非就是 "执行上下文(context of execution)" 的不同[1]. 程序是一个状态机, 所有的 CPU 和内存状态都可以在下一步转移到任意的位置. 为什么非要只有两种切换的方式呢? 所以控制流可以描述为: 按照一定的规则, 改变程序执行状态的过程.

沿着这种思路, 我们可以研究多种多样的控制流. 我准备谈一谈以下的几种:
- 顺序控制流
- 跳转控制流
- 结构化控制流
- 信号控制流
- 异常控制流
- fork-join 控制流
- 基于回调函数的控制流
- 基于协程的控制流

在这篇文章中, 我打算简单谈一谈前三种控制流. 后面的东西太复杂, 值得专题讨论.

## 参考资料

[1] [Linus: Re: proc fs and shared pids](https://lkml.iu.edu/hypermail/linux/kernel/9608/0191.html)
