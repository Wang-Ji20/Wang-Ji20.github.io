<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>Programming Language Theory - 1 PLs (WIP) · 无辜者公墓</title><meta name="description" content="PLT concerns me less than anything in the world in the past. I hate logic and I hate compilers. They are typically too boring to me. So I am very surp"><meta name="og:description" content="PLT concerns me less than anything in the world in the past. I hate logic and I hate compilers. They are typically too boring to me. So I am very surp"><meta name="twitter:site" content="无辜者公墓"><meta name="twitter:title" content="Programming Language Theory - 1 PLs (WIP)"><meta name="twitter:card" content="summary"><meta name="keywords" content="blog"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 6.3.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><div class="container" id="stage"><div class="row"><div class="col-sm-3 col-xs-12 side-container invisible" id="side-bar"><div class="vertical-text site-title"><h3 class="site-title-small" tabindex="-1"><a class="a-title" href="/"></a></h3><h1 class="site-title-large" tabindex="-1"><a class="a-title" href="/">无辜者公墓</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div class="site-title-links" id="site-nav"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/categories">Categories</a></li><li><a href="/tags">Tags</a></li><li class="soc"><a href="https://github.com/Wang-Ji20" target="_blank" rel="noopener noreferrer" aria-label="Github"><i class="fa fa-github">&nbsp;</i></a><a href="http://Wang-Ji20.github.io/atom.xml" target="_blank" rel="noopener noreferrer" aria-label="RSS"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2023&nbsp;<a target="_blank" href="http://Wang-Ji20.github.io" rel="noopener noreferrer">Ji Wang</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div class="col-sm-9 col-xs-12 main-container invisible" id="main-container"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>Programming Language Theory - 1 PLs (WIP)</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2023-09-07</span><span class="meta-item"><i class="fa fa-comment-o"></i><span>&nbsp;</span><a href="/2023/09/07/plt01/#comments">Comments</a></span><span class="meta-item"><i class="fa fa-folder"></i><span>&nbsp;</span><a class="a-tag" href="/categories/CS/" title="CS">CS</a><span>&nbsp;</span></span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a class="a-tag" href="/tags/plt/" title="plt">plt</a><span>&nbsp;</span><a class="a-tag" href="/tags/notes/" title="notes">notes</a><span>&nbsp;</span></span></p><p class="post-abstract"><p>PLT concerns me less than anything in the world in the past. I hate logic and I hate compilers. They are typically too boring to me. So I am very surprised to witness myself charmed by this subject. This realm is quite new and unfamiliar to me(not to the world, however; there are generally too few PLT education resources in China here). So I will start from the very beginning and try to record what I learnt in this blog series. They may miss every points and abuse every bad writing practice in English prose, but just forgive a terrible college student now.</p>
<h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p>How do we write codes and how do we write comments? My first motivation to learn PLT cames from this seemingly obvious problem. why, look at some my old codes:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// visit the root node is the entry method</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CodegenVisitor::visit</span><span class="params">(std::shared_ptr&lt;AST&gt; ast)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// we create a new basic block here.</span></span><br><span class="line">  BasicBlock *BB = BasicBlock::<span class="built_in">Create</span>(*TheContext, <span class="string">&quot;ee&quot;</span>);</span><br><span class="line">  <span class="comment">// insert my item here.</span></span><br><span class="line">  Builder-&gt;<span class="built_in">SetInsertPoint</span>(BB);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;&amp;i : ast-&gt;children) &#123;</span><br><span class="line">    <span class="comment">// codegen every child.</span></span><br><span class="line">    i-&gt;<span class="built_in">codegen</span>(*<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This code is from my first compiler project: C to LLVM IR. These domain knowledge can be ignored. We can just look at the code.</p>
<p>Of course, the current I recognize these comment bad. They just repeats what the real C++ code does, so they are just redundency. Not only redundent, but also harmful. If I changed the code and the comment remain unchanged, then the comment obsoletes and mislead readers. I know I should delete them.</p>
<p>This is just a simple example, but the problem is not such simple, especially when we think codes as “comments” for humans. Really, why only comments are comments? We all know that computer does not reads C++ programs. They are read by us. So they <em>are</em> comments. They should be as clear as possible.</p>
<p>I am not just saying that we should write clean codes, however. That’s software engineering practitioner’s work. More work should focus on the language itself. We express our idea in languages, and their semantics impacts us a lot. It’s difficult to do something in MASM, while expressing our idea in Python(or, let’s say, Haskell) pleases us more. That’s not just practice, theory inhibits as well. PLT discovers how we can <em>compose</em> our programs in an elegant and maintainable way. So motivation 1: I want to know what affects my programming experience and how can we express our ideas with more pleasant. We only live so long, so we ought to live happier.</p>
<hr>
<p>Several days ago I watched a talk about how to write <em>Software that can not be hacked</em>, which is just a terrible publicity for a random company… But the idea is important, though. We as programmers always want to write correct and efficent code, but how can we achieve this? We all know tests are not enough. They just show that in some cases the result of the program is acceptable, but cannot prove the program is correct.</p>
<p>I wrote test for many programs. But as a notorius <em>bad</em> programmer, even I tried so hard, there still are corner cases where my software fails and segfault(In particular, when I say segfault, I do mean I’m writing C++). So I am always struggling for finding ways to write right programs. But how can I do this? FP came to rescue. I write less and less imperative commands, turns to recursive and minimizes the program states. What impresses me most is the haskell code below, a quicksort:</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">quicksort</span> :: <span class="type">Ord</span> a =&gt; [a] -&gt; [a]</span><br><span class="line"><span class="title">quicksort</span> [] = []</span><br><span class="line"><span class="title">quicksort</span> (x:xs) = quicksort [y | y &lt;- xs, y &lt; x] ++ [x] ++ quicksort [y | y &lt;- xs, y &gt;= x]</span><br></pre></td></tr></table></figure>

<p>Its implementation is simple. It’s terse and elegant. But the most importantly, its correctness is trival to see. we can use induction to prove that in no time. Remembering all the fuzz and pain I suffered from C++ loops, I’m totally fascinated by this.</p>
<h2 id="bibliography"><a href="#bibliography" class="headerlink" title="bibliography"></a>bibliography</h2><ul>
<li>books<ul>
<li>The Little Schemer (Scheme)</li>
<li>Structure and Interpretation of Computer Programs (Scheme)</li>
<li>Programming Language Pragmatics (PLT &amp; Compiler)</li>
<li>Type and Programming Languages (PLT)</li>
<li>Software Foundations (Coq, Logic)</li>
</ul>
</li>
<li>course<ul>
<li>UW Coursera Programming Languages (PLT)</li>
<li>Stanford CS242 Programming Languages (PLT)</li>
</ul>
</li>
</ul>
<p>tools &amp; PLs:</p>
<ul>
<li>Scheme</li>
<li>Racket</li>
<li>Haskell</li>
<li>OCaml</li>
<li>Standard ML</li>
<li>Emacs</li>
<li>Rust</li>
<li>Webassembly</li>
<li>lua</li>
</ul>
</p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></span><span class="soc"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></span><span class="soc"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=http://Wang-Ji20.github.io/2023/09/07/plt01/%20无辜者公墓%20Programming Language Theory - 1 PLs (WIP)"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/2023/09/08/rust-notes/" title="rust-notes"><i class="fa fa-angle-double-left"></i>&nbsp;Previous post: rust-notes</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2023/09/06/Twisted-Quotes/" title="Twisted Quotes">Next post: Twisted Quotes&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div><a id="comments"></a><div id="disqus_thread"></div><script>var disqus_shortname = 'wangjiblogs';
var disqus_identifier = '2023/09/07/plt01/';
var disqus_title = 'Programming Language Theory - 1 PLs (WIP)';
var disqus_url = 'http://Wang-Ji20.github.io/2023/09/07/plt01/';
(function () {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async></script></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2023&nbsp;<a target="_blank" href="http://Wang-Ji20.github.io" rel="noopener noreferrer">Ji Wang</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>